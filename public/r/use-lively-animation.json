{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "use-lively-animation",
  "type": "registry:hook",
  "title": "useLivelyAnimation",
  "description": "React hook for managing LivelyIcons animation state and variants.",
  "dependencies": [
    "motion"
  ],
  "registryDependencies": [
    "lively-provider",
    "lively-types"
  ],
  "files": [
    {
      "path": "hooks/use-lively-animation.ts",
      "content": "\"use client\";\n\nimport {\n  useReducedMotion,\n  type Transition,\n  type TargetAndTransition,\n  type VariantLabels,\n  type Variants,\n} from \"motion/react\";\nimport { useLivelyContext } from \"@/lib/lively-provider\";\nimport type { LivelyMotionType, LivelyTriggerType } from \"@/lib/lively-types\";\n\n/**\n * Motion preset interface\n */\ninterface MotionPreset {\n  variants: Variants;\n  transition: Transition;\n}\n\n/**\n * Spring transition presets\n */\nconst springBouncy: Transition = {\n  type: \"spring\",\n  stiffness: 400,\n  damping: 10,\n};\n\nconst springSoft: Transition = {\n  type: \"spring\",\n  stiffness: 300,\n  damping: 20,\n};\n\nconst springSnappy: Transition = {\n  type: \"spring\",\n  stiffness: 500,\n  damping: 25,\n};\n\n/**\n * All available motion presets\n */\nconst motionPresets: Record<LivelyMotionType, MotionPreset> = {\n  scale: {\n    variants: {\n      initial: { scale: 1 },\n      hover: { scale: 1.15 },\n    },\n    transition: springBouncy,\n  },\n\n  rotate: {\n    variants: {\n      initial: { rotate: 0 },\n      hover: { rotate: 180 },\n    },\n    transition: springSoft,\n  },\n\n  translate: {\n    variants: {\n      initial: { x: 0, y: 0 },\n      hover: { x: 2, y: -2 },\n    },\n    transition: springSnappy,\n  },\n\n  shake: {\n    variants: {\n      initial: { x: 0 },\n      hover: { x: [0, -3, 3, -3, 3, 0] },\n    },\n    transition: { duration: 0.4 },\n  },\n\n  pulse: {\n    variants: {\n      initial: { scale: 1, opacity: 1 },\n      hover: {\n        scale: [1, 1.1, 1],\n        opacity: [1, 0.8, 1],\n      },\n    },\n    transition: {\n      duration: 0.6,\n      repeat: Infinity,\n      ease: \"easeInOut\",\n    },\n  },\n\n  bounce: {\n    variants: {\n      initial: { y: 0 },\n      hover: { y: [0, -6, 0] },\n    },\n    transition: {\n      duration: 0.4,\n      ease: [0.22, 1, 0.36, 1],\n      times: [0, 0.5, 1],\n    },\n  },\n\n  draw: {\n    variants: {\n      initial: { opacity: 0.4, scale: 0.9 },\n      hover: { opacity: 1, scale: 1 },\n    },\n    transition: {\n      duration: 0.5,\n      ease: [0.4, 0, 0.2, 1],\n    },\n  },\n\n  spin: {\n    variants: {\n      initial: { rotate: 0 },\n      hover: { rotate: 360 },\n    },\n    transition: {\n      duration: 0.8,\n      ease: \"linear\",\n      repeat: Infinity,\n    },\n  },\n\n  none: {\n    variants: {\n      initial: {},\n      hover: {},\n    },\n    transition: { duration: 0 },\n  },\n};\n\n/**\n * Animation props for motion components\n */\nexport interface AnimationProps {\n  initial?: boolean | TargetAndTransition | VariantLabels;\n  animate?: boolean | TargetAndTransition | VariantLabels;\n  whileHover?: TargetAndTransition | VariantLabels;\n  whileInView?: TargetAndTransition | VariantLabels;\n  viewport?: { once?: boolean; amount?: number };\n  variants?: Variants;\n  transition?: Transition;\n}\n\n/**\n * Return type for useLivelyAnimation hook\n */\nexport interface UseLivelyAnimationReturn {\n  isAnimated: boolean;\n  animationProps: AnimationProps;\n  pathAnimationProps: AnimationProps;\n  drawWrapperProps: AnimationProps;\n}\n\n/**\n * Hook for managing Lively icon animation state\n *\n * Handles the priority chain:\n * 1. Component prop (highest priority)\n * 2. Context configuration\n * 3. System preference (via useReducedMotion)\n */\nexport function useLivelyAnimation(\n  animated?: boolean,\n  lively: LivelyMotionType = \"scale\",\n  trigger: LivelyTriggerType = \"hover\"\n): UseLivelyAnimationReturn {\n  const context = useLivelyContext();\n  const prefersReducedMotion = useReducedMotion();\n\n  const preset = motionPresets[lively] || motionPresets.scale;\n\n  /**\n   * Determine final animation state\n   */\n  const isAnimated = (() => {\n    if (animated !== undefined) {\n      return animated;\n    }\n    if (!context.animated) {\n      return false;\n    }\n    if (prefersReducedMotion) {\n      return false;\n    }\n    return true;\n  })();\n\n  /**\n   * Build animation props based on trigger mode\n   */\n  const getAnimationProps = (): AnimationProps => {\n    if (!isAnimated) {\n      return { initial: \"initial\", variants: preset.variants };\n    }\n\n    const loopTransition: Transition = {\n      ...preset.transition,\n      repeat: Infinity,\n      repeatType: \"loop\" as const,\n    };\n\n    switch (trigger) {\n      case \"hover\":\n        return {\n          initial: \"initial\",\n          whileHover: \"hover\",\n          variants: preset.variants,\n          transition: preset.transition,\n        };\n\n      case \"loop\":\n        return {\n          initial: \"initial\",\n          animate: \"hover\",\n          variants: preset.variants,\n          transition: loopTransition,\n        };\n\n      case \"mount\":\n        return {\n          initial: \"initial\",\n          animate: \"hover\",\n          variants: preset.variants,\n          transition: preset.transition,\n        };\n\n      case \"inView\":\n        return {\n          initial: \"initial\",\n          whileInView: \"hover\",\n          viewport: { once: true, amount: 0.5 },\n          variants: preset.variants,\n          transition: preset.transition,\n        };\n\n      default:\n        return {\n          initial: \"initial\",\n          whileHover: \"hover\",\n          variants: preset.variants,\n          transition: preset.transition,\n        };\n    }\n  };\n\n  /**\n   * Build path animation props for draw effect\n   */\n  const getPathAnimationProps = (): AnimationProps => {\n    if (!isAnimated || lively !== \"draw\") {\n      return {};\n    }\n\n    const drawTransition: Transition = {\n      duration: 1.5,\n      ease: \"easeInOut\" as const,\n    };\n\n    const drawVariants: Variants = {\n      initial: { pathLength: 1, opacity: 1 },\n      hover: {\n        pathLength: [1, 0, 1],\n        opacity: 1,\n        transition: {\n          duration: 1.2,\n          ease: \"easeInOut\",\n          times: [0, 0.5, 1],\n        },\n      },\n    };\n\n    const drawInViewVariants: Variants = {\n      initial: { pathLength: 0, opacity: 0.3 },\n      hover: {\n        pathLength: 1,\n        opacity: 1,\n        transition: {\n          duration: 1.5,\n          ease: \"easeInOut\",\n        },\n      },\n    };\n\n    switch (trigger) {\n      case \"hover\":\n        return {\n          variants: drawVariants,\n          initial: \"initial\",\n        };\n\n      case \"loop\":\n        return {\n          initial: { pathLength: 0, opacity: 0.5 },\n          animate: { pathLength: [0, 1, 1, 0], opacity: [0.5, 1, 1, 0.5] },\n          transition: {\n            duration: 3,\n            repeat: Infinity,\n            ease: \"easeInOut\" as const,\n            times: [0, 0.4, 0.6, 1],\n          },\n        };\n\n      case \"mount\":\n        return {\n          initial: { pathLength: 0, opacity: 0.3 },\n          animate: { pathLength: 1, opacity: 1 },\n          transition: drawTransition,\n        };\n\n      case \"inView\":\n        return {\n          variants: drawInViewVariants,\n          initial: \"initial\",\n        };\n\n      default:\n        return {};\n    }\n  };\n\n  /**\n   * Build SVG wrapper props for draw effect\n   */\n  const getDrawWrapperProps = (): AnimationProps => {\n    if (!isAnimated || lively !== \"draw\") {\n      return {};\n    }\n\n    switch (trigger) {\n      case \"hover\":\n        return {\n          initial: \"initial\",\n          whileHover: \"hover\",\n        };\n\n      case \"inView\":\n        return {\n          initial: \"initial\",\n          whileInView: \"hover\",\n          viewport: { once: true, amount: 0.5 },\n        };\n\n      default:\n        return {};\n    }\n  };\n\n  return {\n    isAnimated,\n    animationProps: getAnimationProps(),\n    pathAnimationProps: getPathAnimationProps(),\n    drawWrapperProps: getDrawWrapperProps(),\n  };\n}\n",
      "type": "registry:hook",
      "target": "hooks/use-lively-animation.ts"
    }
  ]
}